"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[409],{2409:(D,p,n)=>{n.r(p),n.d(p,{MaterialManagementModule:()=>R});var o=n(6814),d=n(4961),e=n(5879),u=n(9634);let h=(()=>{class r{constructor(i){this.authfakeauthenticationService=i}ngOnInit(){this.authfakeauthenticationService.changeSideMenu("material-management")}static#e=this.\u0275fac=function(t){return new(t||r)(e.Y36(u.g))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-all-items"]],decls:21,vars:0,consts:[[1,"cards"],[1,"row"],[1,"col-2"],[1,"p-2",2,"border","1px solid #747474","border-radius","4px","width","100%","height","auto"],[1,"mt-1"],[1,"header_name"],[1,"mt-2",2,"height","30px","background","#F3F4F8","width","100%"],[1,"list_body",2,"height","600px"],[1,"list-footer"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","flex-row"],[1,"btn-diasble"],[1,"mdi","mdi-timer-outline"],[1,"mdi","mdi-trash-can-outline"],["src","assets/images/ViewOnlyModeleft.svg",2,"position","absolute","top","48%","right","1%","bottom","50%","cursor","pointer","width","20px","height","20px","z-index","1"],[1,"col-3"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),e._uU(6,"Overall List"),e.qZA()(),e._UZ(7,"div",6)(8,"div",7),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10)(12,"button",11),e._UZ(13,"i",12),e._uU(14,"Histroy"),e.qZA()(),e.TgZ(15,"div",10)(16,"button",11),e._UZ(17,"i",13),e._uU(18,"Trash"),e.qZA()()()(),e._UZ(19,"img",14),e.qZA()(),e._UZ(20,"div",15),e.qZA()())}})}return r})();var m=n(8036),g=n(9862),c=n(3546);const f=["myGrid_1"];function x(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",29)(1,"div",30),e.NdJ("click",function(){const s=e.CHM(i).$implicit,w=e.oxw();return e.KtG(w.ChangeGrid(s.type))}),e.TgZ(2,"div",31),e._UZ(3,"img",32),e.qZA(),e.TgZ(4,"div",33)(5,"h1",34),e._uU(6),e.qZA(),e.TgZ(7,"h1",35),e._uU(8),e.qZA()()()()}if(2&r){const i=l.$implicit;e.xp6(3),e.Q6J("src",i.imgPath,e.LSH),e.xp6(3),e.Oqu(i.quantity),e.xp6(2),e.Oqu(i.type)}}function _(r,l){if(1&r&&(e.TgZ(0,"tr")(1,"th",36),e._uU(2),e.qZA(),e.TgZ(3,"td",37),e._uU(4),e.qZA(),e.TgZ(5,"td",37),e._uU(6),e.qZA(),e.TgZ(7,"td",37),e._uU(8),e.qZA()()),2&r){const i=l.$implicit;e.xp6(2),e.Oqu(i.Item_Name),e.xp6(2),e.Oqu(i.booking),e.xp6(2),e.Oqu(i.intra_procedure),e.xp6(2),e.Oqu(i.post_procedure)}}function b(r,l){if(1&r&&(e.TgZ(0,"div",38)(1,"h1",39),e._uU(2),e.qZA(),e.TgZ(3,"div",40)(4,"div")(5,"h1",41),e._uU(6),e.qZA()(),e.TgZ(7,"div")(8,"h1",41),e._uU(9),e.qZA()()()()),2&r){const i=l.$implicit;e.xp6(2),e.Oqu(i.activity),e.xp6(4),e.hij("By",i.owner,""),e.xp6(3),e.Oqu(i.date)}}function v(r,l){if(1&r&&(e.TgZ(0,"div",38)(1,"div",40)(2,"div")(3,"h1",42),e._uU(4),e.qZA()(),e.TgZ(5,"div")(6,"h1",43),e._uU(7),e.qZA()()()()),2&r){const i=l.$implicit;e.xp6(4),e.Oqu(i.values),e.xp6(3),e.hij("",i.unit+" ","unit")}}const y=function(r){return{showMiniGrid:r}},C=function(r){return{reduceSize:r}},T=[{path:"all-item",component:h,canActivate:[m.a]},{path:"dashboard",component:(()=>{class r{constructor(i,t,a,s){this.authfakeauthenticationService=i,this.Http=t,this.router=a,this.authFakeService=s,this.material_summary_data=[],this.recent_activities=[],this.stock_levels=[],this.materialUsed=[],this.showMiniGrid=!1,this.reduceTableSize=!1,this.hideOtherColumns=!1,this.material_type_name="",this.defaultColDef={editable:!1,sortable:!0,resizable:!0,filter:!0},this.gridOptions1={defaultColDef:{filter:!1},suppressMenuHide:!1,rowSelection:"multiple",rowHeight:35,suppressHorizontalScroll:!1,suppressMovableColumns:!0,suppressDragLeaveHidesColumns:!0,suppressContextMenu:!1}}ngOnInit(){this.authfakeauthenticationService.changeSideMenu("material-management"),this.Http.get("assets/json/material_summary_data.json").subscribe(i=>{this.material_summary_data=i}),this.Http.get("assets/json/recent_activities.json").subscribe(i=>{this.recent_activities=i}),this.Http.get("assets/json/stock_levels.json").subscribe(i=>{this.stock_levels=i}),this.Http.get("assets/json/material_used.json").subscribe(i=>{console.log("Response Grid",i),this.materialUsed=i})}cellRendered(i,t){switch(i){case"item_no":return t.value?`<span style="font-weight:400 !important;font-size:10px !important">${t.value}</span>`:"-nil-";case"item_name":return"Daily consumed"==this.material_type_name?(console.log("Daily"),t.value?`<span style="padding:2px 10px 2px 10px;color:#fff;background:#81D152;border-radius:6px">${t.value}</span>`:"-nil-"):"Damaged"==this.material_type_name?(console.log("Damaged"),t.value?`<span style="padding:2px 10px 2px 10px;color:#fff;background:#D7D311;border-radius:6px">${t.value}</span>`:"-nil-"):"Returned"==this.material_type_name?(console.log("Damaged"),t.value?`<span style="padding:2px 10px 2px 10px;color:#fff;background:#FF5347;border-radius:6px">${t.value}</span>`:"-nil-"):t.value?t.value:"-nil-";case"expire_date":return"Expiry"==this.material_type_name?(console.log("Daily"),t.value?`<span style="padding:2px 10px 2px 10px;color:#fff;background:#FF9D4F;border-radius:6px">${t.value}</span>`:"-nil-"):t.value?t.value:"-nil-";case"procedure":return t.value?t.value:"-nil-";case"quantity":return"Low Stock"==this.material_type_name?(console.log("low"),t.value?`<span style="padding:2px 10px 2px 10px;color:#fff;background:#5B4DB7;border-radius:12px">${t.value}</span>`:"-nil-"):t.value?t.value:"-nil-";case"lot_no":return"Recall"==this.material_type_name?t.value?`<span style="padding:2px 10px 2px 10px;color:#fff;background:#42ADC7;border-radius:12px">${t.value}</span>`:"-nil-":t.value?t.value:"-nil-"}}ChangeGrid(i){switch(console.log(i),this.material_type_name=i,this.material_type_name){case"Daily consumed":this.columnDefs1=[{field:"item_no",headerName:"Item No",suppressMenu:!1,cellRenderer:this.cellRendered.bind(this,"item_no")},{field:"item_name",headerName:"Item Name",filter:"agTextColumnFilter",suppressMenu:!1,cellRenderer:this.cellRendered.bind(this,"item_name")},{field:"expire_date",headerName:"Expiry Date",filter:"agDateColumnFilter",suppressMenu:!1,cellRenderer:this.cellRendered.bind(this,"expire_date")},{field:"procedure",headerName:"Procedure",filter:"agTextColumnFilter",suppressMenu:!1,cellRenderer:this.cellRendered.bind(this,"procedure")},{field:"quantity",headerName:"Quantity",filter:"agTextColumnFilter",suppressMenu:!1,cellRenderer:this.cellRendered.bind(this,"quantity")}],this.Http.get("assets/json/material_summary_grid.json").subscribe(t=>{this.myGrid_1.api.setRowData(t),this.gridOptions1.api?.sizeColumnsToFit()}),console.log(this.columnDefs1);break;case"Damaged":case"Expiry":case"Returned":case"Low Stock":this.columnDefs1=[{field:"item_no",headerName:"Item No",filter:"agTextColumnFilter",suppressMenu:!1,cellRenderer:this.cellRendered.bind(this,"item_no")},{field:"item_name",headerName:"Item Name",filter:"agTextColumnFilter",suppressMenu:!1,cellRenderer:this.cellRendered.bind(this,"item_name")},{field:"expire_date",headerName:"Expiry Date",filter:"agDateColumnFilter",suppressMenu:!1,cellRenderer:this.cellRendered.bind(this,"expire_date")},{field:"procedure",headerName:"Procedure",filter:"agTextColumnFilter",suppressMenu:!1,cellRenderer:this.cellRendered.bind(this,"procedure")},{field:"quantity",headerName:"Quantity",filter:"agTextColumnFilter",suppressMenu:!1,cellRenderer:this.cellRendered.bind(this,"quantity")}],this.Http.get("assets/json/material_summary_grid.json").subscribe(t=>{this.myGrid_1.api.setRowData(t),this.gridOptions1.api?.sizeColumnsToFit()});break;case"Recall":this.columnDefs1=[{field:"item_no",headerName:"Item No",filter:"agTextColumnFilter",suppressMenu:!1,cellRenderer:this.cellRendered.bind(this,"item_no")},{field:"item_name",headerName:"Item Name",filter:"agTextColumnFilter",suppressMenu:!1,cellRenderer:this.cellRendered.bind(this,"item_name")},{field:"expire_date",headerName:"Expiry Date",filter:"agDateColumnFilter",suppressMenu:!1,cellRenderer:this.cellRendered.bind(this,"expire_date")},{field:"procedure",headerName:"Procedure",filter:"agTextColumnFilter",suppressMenu:!1,cellRenderer:this.cellRendered.bind(this,"procedure")},{field:"quantity",headerName:"Quantity",filter:"agTextColumnFilter",suppressMenu:!1,cellRenderer:this.cellRendered.bind(this,"quantity")},{field:"lot_no",headerName:"LOT No",filter:"agTextColumnFilter",suppressMenu:!1,cellRenderer:this.cellRendered.bind(this,"lot_no")}],this.Http.get("assets/json/material_summary_grid.json").subscribe(t=>{this.myGrid_1.api.setRowData(t),this.gridOptions1.api?.sizeColumnsToFit()})}this.showMiniGrid=!0,this.reduceTableSize=!0}onGridReady_1(i){this.gridApi_1=i.api,console.log("event",i)}ClosematerialGrid(){this.showMiniGrid=!1,this.reduceTableSize=!1}go(){this.authFakeService.UpdatingMaterialfn(this.material_type_name),this.authFakeService.UpdatingColumnDeffn(this.columnDefs1),this.router.navigate(["/material-management/viewfullgrid"])}ngOnDestroy(){}static#e=this.\u0275fac=function(t){return new(t||r)(e.Y36(u.g),e.Y36(g.eN),e.Y36(d.F0),e.Y36(u.g))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-dashboard-material-management"]],viewQuery:function(t,a){if(1&t&&e.Gf(f,5),2&t){let s;e.iGM(s=e.CRH())&&(a.myGrid_1=s.first)}},decls:60,vars:14,consts:[[1,"cards"],[1,"header_name_bold","mb-2",2,"text-align","left !important"],[1,"row","mb-2"],["class","col-2",4,"ngFor","ngForOf"],[1,"row"],[1,"col-8","mt-1"],[2,"display","none","height","48% !important",3,"ngClass"],[1,"d-flex","flex-row","justify-content-between","align-items-center",2,"flex-wrap","wrap"],[1,"me-2",2,"background","#F3F4F8","padding","4px 10px 4px 10px","border-radius","6px","color","#000",3,"click"],["src","assets/images/detailed_view.svg","width","16px","height","16px",1,"me-2"],[2,"background","#F3F4F8","padding","4px 10px 4px 10px","border-radius","6px","cursor","pointer",3,"click"],["src","assets/images/close_materials_grid.svg","width","30px","height","30px"],[1,"ag-theme-alpine",2,"width","100%","height","45%","display","none",3,"columnDefs","gridOptions","defaultColDef"],["myGrid_1",""],[3,"ngClass"],[1,"table-responsive",2,"border","1px solid #747474","border-radius","15px","max-height","600px","overflow-y","scroll"],[1,"table","table-borderless","mb-0"],[2,"background","#855EDB !important","color","#fff"],[1,"ms-1",2,"padding","2px 6px 2px 6px","color","#fff","font-size","10px","font-weight","600","background","#9372DB","border-radius","20px"],[2,"max-height","597px","overflow-x","scroll"],[4,"ngFor","ngForOf"],[1,"col-4","mt-1"],[1,"d-flex","align-items-center","flex-row","justify-content-between","mb-2"],[1,"header_name_bold",2,"text-align","left !important"],[2,"background","#F3F4F8","padding","4px 10px 4px 10px","border-radius","6px"],["src","assets/images/calender.svg","width","16px","height","16px",1,"me-2"],[1,"d-flex","flex-column","p-3",2,"border","1px solid #747474","border-radius","12px","height","271px","overflow-y","scroll"],["class","mb-3","style","border-bottom: 1px solid #ECECEC;",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","align-items-center","justify-content-between","mt-3","mb-2"],[1,"col-2"],[1,"d-flex","align-items-center",2,"border","0.5px solid #C9C9C9","border-radius","10px","padding","20px","cursor","pointer","flex-wrap","wrap",3,"click"],[1,"flex-shrink-0"],["width","40px","height","40px",3,"src"],[1,"flex-grow-1","ms-3"],[1,"mb-1",2,"font-size","28px !important","font-weight","600 !important"],[1,"header_name"],[2,"font-size","14px"],[2,"font-size","12px","font-weight","500"],[1,"mb-3",2,"border-bottom","1px solid #ECECEC"],[1,"mb-3",2,"font-weight","500 !important"],[1,"d-flex","justify-content-between","mb-3"],[2,"font-weight","400 !important"],[2,"font-weight","500 !important"],[2,"font-weight","500 !important","color","#D62424 !important"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Material Summary"),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,x,9,3,"div",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div")(10,"h1",1),e._uU(11),e.qZA()(),e.TgZ(12,"div")(13,"a",8),e.NdJ("click",function(){return a.go()}),e._UZ(14,"img",9),e._uU(15,"View all"),e.qZA(),e.TgZ(16,"a",10),e.NdJ("click",function(){return a.ClosematerialGrid()}),e._UZ(17,"img",11),e.qZA()()(),e._UZ(18,"ag-grid-angular",12,13),e.qZA(),e.TgZ(20,"div",14)(21,"h1",1),e._uU(22,"Material used"),e.qZA(),e.TgZ(23,"div",15)(24,"table",16)(25,"thead")(26,"tr")(27,"th",17),e._uU(28,"Item Name"),e.qZA(),e.TgZ(29,"th",17),e._uU(30,"Booking"),e.TgZ(31,"span",18),e._uU(32,"Planned"),e.qZA()(),e.TgZ(33,"th",17),e._uU(34,"Intra-procedure"),e.TgZ(35,"span",18),e._uU(36,"Used"),e.qZA()(),e.TgZ(37,"th",17),e._uU(38,"Post-procedure"),e.TgZ(39,"span",18),e._uU(40,"Reconcile"),e.qZA()()()(),e.TgZ(41,"tbody",19),e.YNc(42,_,9,4,"tr",20),e.qZA()()()()(),e.TgZ(43,"div",21)(44,"div",22)(45,"h1",23),e._uU(46,"Recent activities"),e.qZA(),e.TgZ(47,"a",24),e._UZ(48,"img",25),e._uU(49,"This week"),e.qZA()(),e.TgZ(50,"div",26),e.YNc(51,b,10,3,"div",27),e.qZA(),e.TgZ(52,"div",28)(53,"h1",23),e._uU(54,"Stock levels"),e.qZA(),e.TgZ(55,"a",24),e._UZ(56,"img",9),e._uU(57,"View all"),e.qZA()(),e.TgZ(58,"div",26),e.YNc(59,v,8,2,"div",27),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("ngForOf",a.material_summary_data),e.xp6(3),e.Q6J("ngClass",e.VKq(10,y,1==a.showMiniGrid)),e.xp6(4),e.hij("Material details - ",a.material_type_name," "),e.xp6(7),e.Q6J("columnDefs",a.columnDefs1)("gridOptions",a.gridOptions1)("defaultColDef",a.defaultColDef),e.xp6(2),e.Q6J("ngClass",e.VKq(12,C,1==a.reduceTableSize)),e.xp6(22),e.Q6J("ngForOf",a.materialUsed),e.xp6(9),e.Q6J("ngForOf",a.recent_activities),e.xp6(8),e.Q6J("ngForOf",a.stock_levels))},dependencies:[o.mk,o.sg,c.N8],styles:[".ag-row{border-bottom:none!important}  .ag-row-odd{margin:10px 0!important;background:#F3F4F8!important;z-index:2}  .ag-row-even{margin:10px 0!important;background:none!important}  .ag-header-viewport{background:#F3F4F8!important;border:1px solid #C9C9C9}  .ag-header-cell-text{font-size:14px!important;font-weight:500!important}  .ag-cell-value{font-size:10px!important;font-weight:400!important}  .ag-root-wrapper{border:1px solid #747474!important;border-radius:15px}.showMiniGrid[_ngcontent-%COMP%]{display:block!important}.showMiniGrid[_ngcontent-%COMP%]   .ag-theme-alpine[_ngcontent-%COMP%]{width:100%;height:100%!important;display:block!important}.reduceSize[_ngcontent-%COMP%]{margin-top:45px!important}.reduceSize[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{max-height:250px!important}"]})}return r})(),canActivate:[m.a]}];let Z=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275mod=e.oAB({type:r});static#i=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(T),d.Bz]})}return r})();var F=n(9193);let R=(()=>{class r{static#e=this.\u0275fac=function(t){return new(t||r)};static#t=this.\u0275mod=e.oAB({type:r});static#i=this.\u0275inj=e.cJS({imports:[o.ez,Z,c.sF,F.A0]})}return r})()}}]);